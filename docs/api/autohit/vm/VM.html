<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Feb 18 18:08:32 PST 1999 -->
<TITLE>
: Class  VM
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../autohit/vm/VMAutomat.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="VM.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
autohit.vm</FONT>
<BR>
Class  VM</H2>
<PRE>
java.lang.Object
  |
  +--<B>autohit.vm.VM</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../autohit/utils/Log.html">Log</A>, <A HREF="../../autohit/SimVM.html">SimVM</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>VM</B><DT>extends java.lang.Object</DL>

<P>
The abstract base class for virtual machines.

 A derived class will implement the abstract execute()
 method to actually run the VM.  Also, it would normally use the
 pause() and resume() methods to control timing (rather than
 overloading and re-implementing them).
 <p>
 The derived class MAY overload the method prepare() if it has 
 anything it wants to do before the FIRST instruction (and only the
 first) is executed.  For instance, it could add environment variables.
 <p>
 The pause() and resume() methods are not designed to be
 called by external threads.  If you plan to wrap the 
 derived vm in a threaded class, you may want to overload or 
 just not use those methods outside of the vm.  Also, these methods
 only manage state and timing; it is up the he execute() method
 in the derived class to actually stop execution.
 <p>
 This base class offers the following services:
 - Instruction pointer (ip) field<br>
 - Variable space allocation (vars).  The variables are put into a hashtable.
   some convenience methods are provided.<br>
 - Scope Stack space and convenience methods.<br>
 - Scope stack dirty flag.
 <p>
 USE <b>THESE</b> SERVICES!  Do not make your own ip, for instance!  Methods of
 this class depend upon it.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#ip">ip</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current instruction address/pointer.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#scDirty">scDirty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scope stack cache dirty flag.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Stack</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#scope">scope</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scope stack.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#state">state</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VM state.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#STATE_DONE">STATE_DONE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#STATE_NEW">STATE_NEW</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State values for the VM.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#STATE_NO_VM">STATE_NO_VM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#STATE_PAUSED">STATE_PAUSED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#STATE_RUNNING">STATE_RUNNING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#TIME_GRAN">TIME_GRAN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Granulatiry for each tick of the VM's clock.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Hashtable</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#vars">vars</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Variable space.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#VM()">VM</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#discardScopeFrame()">discardScopeFrame</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discard scope frame.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#execute()">execute</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Absract method for VM execution.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#getIntegerVar(java.lang.String)">getIntegerVar</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get an Integer variable.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#getState()">getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get VM state.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#getVar(java.lang.String)">getVar</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a string variable.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#pause()">pause</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pause execution in the VM.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#popScope()">popScope</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pop an object off the stack.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#prepare()">prepare</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prepare for execution of the first instruction.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#pushScope(java.lang.Object)">pushScope</A></B>(java.lang.Object&nbsp;o)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push an object onto the scope stack.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#removeVar(java.lang.String)">removeVar</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a variable.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#resume()">resume</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resume execution in the VM.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#setVar(java.lang.String, java.lang.String)">setVar</A></B>(java.lang.String&nbsp;name,
       java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set a variable.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start the VM.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#subVar(java.lang.String)">subVar</A></B>(java.lang.String&nbsp;in)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Variable substitution.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../autohit/vm/VM.html#ticks()">ticks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number of ticks the VM has been running.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" ID="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="TIME_GRAN"><!-- --></A><H3>
TIME_GRAN</H3>
<PRE>
public static final int <B>TIME_GRAN</B></PRE>
<DL>
<DD>Granulatiry for each tick of the VM's clock.  It
  is used to scale the system time to the vm clock time.

  Currently, it is set to 1.  Given the current Java
  implementations, this should yield a 1 millisecond
  tick.  That is, each VM clock tick will take one
  millisecond.</DL>
<HR>

<A NAME="STATE_NEW"><!-- --></A><H3>
STATE_NEW</H3>
<PRE>
public static final int <B>STATE_NEW</B></PRE>
<DL>
<DD>State values for the VM.</DL>
<HR>

<A NAME="STATE_RUNNING"><!-- --></A><H3>
STATE_RUNNING</H3>
<PRE>
public static final int <B>STATE_RUNNING</B></PRE>
<DL>
</DL>
<HR>

<A NAME="STATE_PAUSED"><!-- --></A><H3>
STATE_PAUSED</H3>
<PRE>
public static final int <B>STATE_PAUSED</B></PRE>
<DL>
</DL>
<HR>

<A NAME="STATE_DONE"><!-- --></A><H3>
STATE_DONE</H3>
<PRE>
public static final int <B>STATE_DONE</B></PRE>
<DL>
</DL>
<HR>

<A NAME="STATE_NO_VM"><!-- --></A><H3>
STATE_NO_VM</H3>
<PRE>
public static final int <B>STATE_NO_VM</B></PRE>
<DL>
</DL>
<HR>

<A NAME="state"><!-- --></A><H3>
state</H3>
<PRE>
protected int <B>state</B></PRE>
<DL>
<DD>VM state.</DL>
<HR>

<A NAME="ip"><!-- --></A><H3>
ip</H3>
<PRE>
public int <B>ip</B></PRE>
<DL>
<DD>Current instruction address/pointer.  A pointer into the insrtuction Vector.</DL>
<HR>

<A NAME="vars"><!-- --></A><H3>
vars</H3>
<PRE>
protected java.util.Hashtable <B>vars</B></PRE>
<DL>
<DD>Variable space.  Use the convenience methods to access these...</DL>
<HR>

<A NAME="scope"><!-- --></A><H3>
scope</H3>
<PRE>
protected java.util.Stack <B>scope</B></PRE>
<DL>
<DD>Scope stack.

  Do NOT use scope.pop() or scope.push() yourself!  We must maintain the
  scope cache dirty flag.  However, you can use peek(), empty(), and
  search() at your leasure().</DL>
<HR>

<A NAME="scDirty"><!-- --></A><H3>
scDirty</H3>
<PRE>
protected boolean <B>scDirty</B></PRE>
<DL>
<DD>Scope stack cache dirty flag.  Will be automatically set when any
  scope stack methods are used.</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="VM()"><!-- --></A><H3>
VM</H3>
<PRE>
public <B>VM</B>()</PRE>
<DL>
<DD>Constructor.  This should be called by any derived
  class constructors.

  It does NOT set any time/clock data, so if you
  overload start(), be sure to do it in your start().
  (Oh, and don't do it in the constructor.)</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()
           throws <A HREF="../../autohit/vm/VMException.html">VMException</A></PRE>
<DL>
<DD>Start the VM.  It will set state and timing info, then
  call the abstract method execute() to execute the
  code.
  <p>
  Calling this method consecutively will effectively 
  reset the state and timing info.  It is probibly a 
  REAL BAD IDEA to call this from the execute method.
  <p>
  It throws any exceptions that are thrown out of execute().<DD><DL>
<DT><B>Throws:</B><DD><A HREF="../../autohit/vm/VMException.html">VMException</A> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getState()"><!-- --></A><H3>
getState</H3>
<PRE>
public int <B>getState</B>()</PRE>
<DL>
<DD>Get VM state.  Reports the state of the vm using the
  STATE_* values.
  <p>
  You may call this from another thread, but it isn't
  very reliable.<DD><DL>
<DT><B>Returns:</B><DD>a STATE_* value</DL>
</DD>
</DL>
<HR>

<A NAME="pause()"><!-- --></A><H3>
pause</H3>
<PRE>
public void <B>pause</B>()</PRE>
<DL>
<DD>Pause execution in the VM.  This should NOT be called
  by another thread.
  <p>
  It will only pause if the VM is running.</DL>
<HR>

<A NAME="resume()"><!-- --></A><H3>
resume</H3>
<PRE>
public void <B>resume</B>()</PRE>
<DL>
<DD>Resume execution in the VM.  This should NOT be called
  by another thread.
  <p>
  It will only resume if the VM is paused.</DL>
<HR>

<A NAME="ticks()"><!-- --></A><H3>
ticks</H3>
<PRE>
public int <B>ticks</B>()</PRE>
<DL>
<DD>Number of ticks the VM has been running.  It will
  be scaled according to the TIME_GRAN field.
  <p>
  Note that it returns an int rather than a long like 
  system time usually is.  This means that the VM timing.
  This technically could cause some overflow problems, but
  I doubt a VM would ever run that long.<DD><DL>
<DT><B>Returns:</B><DD>number of ticks the VM has run.</DL>
</DD>
</DL>
<HR>

<A NAME="setVar(java.lang.String, java.lang.String)"><!-- --></A><H3>
setVar</H3>
<PRE>
public void <B>setVar</B>(java.lang.String&nbsp;name,
                   java.lang.String&nbsp;value)</PRE>
<DL>
<DD>Set a variable.  If the variable doesn't exist, it will create it.  Once
  created, a variable stays in scope for the rest of execution.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the variable name.<DD><CODE>value</CODE> - the variable value.</DL>
</DD>
</DL>
<HR>

<A NAME="removeVar(java.lang.String)"><!-- --></A><H3>
removeVar</H3>
<PRE>
public void <B>removeVar</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Remove a variable.  If the variable is not present, no error
  occurs.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the variable name.</DL>
</DD>
</DL>
<HR>

<A NAME="getVar(java.lang.String)"><!-- --></A><H3>
getVar</H3>
<PRE>
public java.lang.String <B>getVar</B>(java.lang.String&nbsp;name)
                        throws <A HREF="../../autohit/vm/VMException.html">VMException</A></PRE>
<DL>
<DD>Get a string variable.  it will throw a VMException if the variable
  has not been set.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the variable name.<DT><B>Returns:</B><DD>the value as a String<DT><B>Throws:</B><DD><A HREF="../../autohit/vm/VMException.html">VMException</A> - &nbsp;<DT><B>See Also: </B><DD><A HREF="../../autohit/vm/VMException.html"><CODE>VMException</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getIntegerVar(java.lang.String)"><!-- --></A><H3>
getIntegerVar</H3>
<PRE>
public int <B>getIntegerVar</B>(java.lang.String&nbsp;name)
                  throws <A HREF="../../autohit/vm/VMException.html">VMException</A></PRE>
<DL>
<DD>Get an Integer variable.  it will throw a VMException if the variable
  has not been set or is not a parse-able integer.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the variable name.<DT><B>Returns:</B><DD>the value as an int<DT><B>Throws:</B><DD><A HREF="../../autohit/vm/VMException.html">VMException</A> - &nbsp;<DT><B>See Also: </B><DD><A HREF="../../autohit/vm/VMException.html"><CODE>VMException</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="subVar(java.lang.String)"><!-- --></A><H3>
subVar</H3>
<PRE>
public java.lang.String <B>subVar</B>(java.lang.String&nbsp;in)
                        throws <A HREF="../../autohit/vm/VMException.html">VMException</A></PRE>
<DL>
<DD>Variable substitution.
  <p>
  There won't be any errors if a substitution isn't found.
  It will only do one level of substitution.  Either call this again
  to resolve a variable in the newly substituted text, or just
  assume it is plain text.  
  <p>
  It will throw a VMException if the variable isn't set.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>in</CODE> - text to find substitution.<DT><B>Returns:</B><DD>string with substitutions.<DT><B>Throws:</B><DD><A HREF="../../autohit/vm/VMException.html">VMException</A> - &nbsp;<DT><B>See Also: </B><DD><A HREF="../../autohit/vm/VMException.html"><CODE>VMException</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="pushScope(java.lang.Object)"><!-- --></A><H3>
pushScope</H3>
<PRE>
public void <B>pushScope</B>(java.lang.Object&nbsp;o)</PRE>
<DL>
<DD>Push an object onto the scope stack.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>i</CODE> - the object</DL>
</DD>
</DL>
<HR>

<A NAME="popScope()"><!-- --></A><H3>
popScope</H3>
<PRE>
public java.lang.Object <B>popScope</B>()
                          throws java.lang.Exception</PRE>
<DL>
<DD>Pop an object off the stack.  USE THIS instead of scope.pop()!!!
  Have to dirty the cache flag...

  It'll throw any exception it encounters--most likely a EmptyStackException.<DD><DL>
<DT><B>Returns:</B><DD>an object reference</DL>
</DD>
</DL>
<HR>

<A NAME="discardScopeFrame()"><!-- --></A><H3>
discardScopeFrame</H3>
<PRE>
public void <B>discardScopeFrame</B>()</PRE>
<DL>
<DD>Discard scope frame.  This will remove all items on the scope to and 
  including the top-most recent VMIScope object.
  <p>
  If it encounters any variable references, the variable will
  discarded.
  <p>
  It will pop the whole damned stack if it doesn't find one...</DL>
<HR>

<A NAME="execute()"><!-- --></A><H3>
execute</H3>
<PRE>
public abstract void <B>execute</B>()
                      throws <A HREF="../../autohit/vm/VMException.html">VMException</A></PRE>
<DL>
<DD>Absract method for VM execution.  The derived class
  must implement the actual execution.  This method will
  be automatically called by start().  Therefore, you
  probibly should not call start() from within this 
  method.
  <p>
  The implimentation of this method should only execute
  ONE INSTRUCTION.  Successive calls would then execute
  the entire program.  If you do not impliment it this way,
  you are likely to ghost the vm's.
  <p>
  NOTE!  An implementing method MUST throw a 
  VMException(VMException.DONE) when it reaches the
  end of execution.
  <p>
  If the derived-class VM encounters an instruction that
  it does now support, it should throw a 
  VMException.INVALID_INSTRUCTION.<DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../autohit/vm/VMException.html"><CODE>VMException</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="prepare()"><!-- --></A><H3>
prepare</H3>
<PRE>
public void <B>prepare</B>()
             throws java.lang.Exception</PRE>
<DL>
<DD>Prepare for execution of the first instruction.  The derived
  class may overload this if it has any stuff it wants to do
  before execute() is called the first time.<DD><DL>
<DT><B>Throws:</B><DD>Any - exceptions it encounters.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../autohit/vm/VMAutomat.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="VM.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
